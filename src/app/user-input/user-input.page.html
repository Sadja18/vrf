<ion-header>
  <ion-toolbar>
    <ion-title>User Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- User Form -->
  <form [formGroup]="userForm" (ngSubmit)="submitForm()">

    <!-- First Name -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">First Name</ion-label>
          <ion-input formControlName="firstName" type="text" placeholder="First Name" required></ion-input>
        </div>
      </ion-col>
    </ion-row>

    <!-- Last Name -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">Last Name</ion-label>
          <ion-input formControlName="lastName" type="text" placeholder="Last Name" required></ion-input>
        </div>
      </ion-col>
    </ion-row>

    <!-- Address -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">Address</ion-label>
          <ion-textarea formControlName="address" type="textarea" placeholder="Address" required></ion-textarea>
        </div>
      </ion-col>
    </ion-row>

    <!-- Mobile Number -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">Mobile Number</ion-label>
          <ion-input formControlName="mobile" type="tel" placeholder="Enter mobile" required></ion-input>
        </div>
      </ion-col>
    </ion-row>

    <!-- Gender Selection -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container radio-group">
          <ion-label>Gender</ion-label>
          <ion-radio-group formControlName="gender" required>
            <ion-item class="radio-option">
              <ion-label>Male</ion-label>
              <ion-radio slot="start" value="male"></ion-radio>
            </ion-item>
            <ion-item class="radio-option">
              <ion-label>Female</ion-label>
              <ion-radio slot="start" value="female"></ion-radio>
            </ion-item>
            <ion-item class="radio-option">
              <ion-label>Others</ion-label>
              <ion-radio slot="start" value="others"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </div>
      </ion-col>
    </ion-row>

    <!-- Education Selection -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label>Education</ion-label>
          <ion-select formControlName="education" placeholder="Select Highest Qualification" required>
            <ion-select-option value="10th">10th</ion-select-option>
            <ion-select-option value="12th">12th</ion-select-option>
            <ion-select-option value="bachelor">Bachelors</ion-select-option>
            <ion-select-option value="master">Masters</ion-select-option>
            <ion-select-option value="doctorate">Doctorate</ion-select-option>
            <ion-select-option value="others">Others</ion-select-option>
          </ion-select>
        </div>
      </ion-col>
    </ion-row>

    <!-- Date of Birth Picker -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">Date of Birth</ion-label>
          <ion-datetime-button [datetime]="'dateOfBirthModal'" displayFormat="MM/DD/YYYY" presentation="date"
            required></ion-datetime-button>
          <ion-modal [keepContentsMounted]="true">
            <ng-template>
              <ion-datetime id="dateOfBirthModal" displayFormat="DD/MM/YYYY" presentation="date"
                required></ion-datetime>
            </ng-template>
          </ion-modal>
        </div>
      </ion-col>
    </ion-row>

    <!-- Profile Picture (Camera Capture) -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">Profile Picture</ion-label>
          <br />
          <div *ngIf="profilePicBase64">
            <img [src]="profilePicBase64" alt="Profile Picture" width="100" height="100" />
          </div>
          <br />
          <ion-button (click)="captureProfilePic()" class="capture-btn">Capture Profile Picture</ion-button>
        </div>
      </ion-col>
    </ion-row>

    <!-- Location Picker -->
    <ion-row>
      <ion-col size="12">
        <div class="input-container">
          <ion-label position="floating">Location</ion-label>
          <ion-textarea [value]="formattedCoords()" readonly></ion-textarea>
          <ion-button (click)="getCurrentLocation()">Get Location</ion-button>
        </div>
      </ion-col>
    </ion-row>

    <!-- Map Container -->
    <ion-row>
      <ion-col size="12">
        <div id="map" style="height: 300px;"></div>
      </ion-col>
    </ion-row>

    <!-- Submit Button Row -->
    <ion-row>
      <ion-col size="6">
        <!-- Reset Button -->
        <ion-button expand="full" (click)="resetForm()" class="reset-btn">Reset</ion-button>
      </ion-col>
      <ion-col size="6">
        <!-- Submit Button -->
        <ion-button expand="full" type="submit" [disabled]="userForm.invalid" class="submit-btn">Submit</ion-button>
      </ion-col>
    </ion-row>

  </form>
</ion-content>